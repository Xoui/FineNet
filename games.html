<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Website</title>
</head>
<body>

<h1 id="games-heading">Games</h1>

<div id="games-list">
  <!-- Games will be dynamically populated here -->
</div>

<div id="game-iframe-container" style="display: none;">
  <iframe id="game-iframe" frameborder="0" style="width: 100vw; height: 100vh;"></iframe>
</div>

<script>
  // Function to load game in iframe
  function loadGame(url) {
    var iframeContainer = document.getElementById("game-iframe-container");
    var gamesHeading = document.getElementById("games-heading");
    var gamesList = document.getElementById("games-list");

    iframeContainer.style.display = "block"; // Show iframe container
    gamesHeading.style.display = "none"; // Hide games heading
    gamesList.style.display = "none"; // Hide games list
    
    var iframe = document.getElementById("game-iframe");
    iframe.src = url;
  }

  // Function to populate games list
  function populateGames(games) {
    var gamesList = document.getElementById("games-list");

    games.forEach(function(game) {
      var gameImg = document.createElement("img");
      // Construct image URL based on provided filename
      gameImg.src = game.url + "/" + game.image;
      gameImg.alt = game.name;
      gameImg.style.cursor = "pointer"; // Change cursor to pointer on hover

      // Add click event listener to load game in iframe
      gameImg.addEventListener("click", function() {
        loadGame(game.url);
      });

      gamesList.appendChild(gameImg);
    });
  }

  // Fetch JSON data from file
  fetch('games.json')
    .then(response => response.json())
    .then(data => populateGames(data))
    .catch(error => console.error('Error fetching JSON:', error));
</script>

</body>
</html>
    